document.addEventListener("DOMContentLoaded",()=>{fetch("header.html").then(e=>{if(e.ok)return e.text();throw new Error("Network response was not ok")}).then(e=>{var t=document.getElementById("header-placeholder");t&&(t.innerHTML=e)}).catch(e=>{console.error("Failed to load header:",e)});var e=document.querySelector(".md\\:hidden");const n=document.querySelector("nav"),t=(e&&n&&e.addEventListener("click",()=>{n.classList.toggle("hidden"),n.classList.toggle("flex"),n.classList.toggle("flex-col"),n.classList.toggle("absolute"),n.classList.toggle("top-16"),n.classList.toggle("left-0"),n.classList.toggle("right-0"),n.classList.toggle("bg-white"),n.classList.toggle("p-4"),n.classList.toggle("shadow-lg")}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();var e=t.getAttribute("href");"#"!==e&&(e=document.querySelector(e))&&(window.scrollTo({top:e.offsetTop-80,behavior:"smooth"}),n)&&!n.classList.contains("hidden")&&n.classList.add("hidden")})}),document.getElementById("bottle-container"));if(t){for(;t.firstChild;)t.removeChild(t.firstChild);const i=new THREE.Scene,a=(i.background=new THREE.Color(15987958),new THREE.PerspectiveCamera(75,t.clientWidth/t.clientHeight,.1,1e3)),o=(a.position.z=5,new THREE.WebGLRenderer({antialias:!0,alpha:!0}));o.setSize(t.clientWidth,t.clientHeight),t.appendChild(o.domElement);e=new THREE.DirectionalLight(16777215,1),e=(e.position.set(0,1,1).normalize(),i.add(e),new THREE.MeshStandardMaterial({color:1096065,roughness:.3}));const r=new THREE.Mesh(new THREE.CylinderGeometry(.5,.6,2,32),e),s=(i.add(r),new THREE.Mesh(new THREE.SphereGeometry(.4,32,32),new THREE.MeshStandardMaterial({color:2238513})));s.position.y=1.2,i.add(s),!function e(){requestAnimationFrame(e),r.rotation.y+=.01,s.rotation.y+=.01,o.render(i,a)}(),window.addEventListener("resize",()=>{t&&(o.setSize(t.clientWidth,t.clientHeight),a.aspect=t.clientWidth/t.clientHeight,a.updateProjectionMatrix())})}}),window.addEventListener("scroll",()=>{var e=document.querySelector("header"),t=document.querySelectorAll(".nav-link"),n=document.querySelector(".logo-font"),i=document.querySelector(".logo-part");e&&n&&i&&(50<window.scrollY?(e.classList.add("bg-white","shadow-lg","translate-y-0"),e.classList.remove("bg-transparent"),n.classList.remove("text-white"),n.classList.add("text-teal"),i.classList.remove("text-white"),i.classList.add("text-red"),t.forEach(e=>{e.classList.remove("text-white"),e.classList.add("text-gray-900")})):(e.classList.add("bg-transparent"),e.classList.remove("bg-white","shadow-lg","translate-y-0"),n.classList.remove("text-teal"),n.classList.add("text-white"),i.classList.remove("text-red"),i.classList.add("text-white"),t.forEach(e=>{e.classList.remove("text-gray-900"),e.classList.add("text-white")})))}),window.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("bottle-container");if(e){const n=new THREE.Scene,i=new THREE.PerspectiveCamera(45,e.clientWidth/e.clientHeight,.1,1e3),a=(i.position.set(0,1.5,3),new THREE.WebGLRenderer({antialias:!0,alpha:!0}));a.setSize(e.clientWidth,e.clientHeight),a.setPixelRatio(window.devicePixelRatio),e.appendChild(a.domElement);var t=new THREE.HemisphereLight(16777215,4473924,1);n.add(t),(new THREE.GLTFLoader).load("https://models.readyplayer.me/61e71a67d6dc88001c9f0377.glb",function(e){const t=e.scene;t.scale.set(1.5,1.5,1.5),n.add(t),function e(){requestAnimationFrame(e),t.rotation.y+=.01,a.render(n,i)}()},void 0,function(e){console.error("Erreur chargement 3D :",e)}),window.addEventListener("resize",()=>{i.aspect=e.clientWidth/e.clientHeight,i.updateProjectionMatrix(),a.setSize(e.clientWidth,e.clientHeight)})}});const scene=new THREE.Scene,camera=(scene.background=new THREE.Color(15987958),new THREE.PerspectiveCamera(75,window.innerWidth/400,.1,1e3)),renderer=(camera.position.z=5,new THREE.WebGLRenderer({antialias:!0,alpha:!0})),container=document.getElementById("bottle-container"),light=(renderer.setSize(container.clientWidth,container.clientHeight),container.appendChild(renderer.domElement),new THREE.DirectionalLight(16777215,1)),bottleMaterial=(light.position.set(0,1,1).normalize(),scene.add(light),new THREE.MeshStandardMaterial({color:1096065,roughness:.3})),bottleBody=new THREE.Mesh(new THREE.CylinderGeometry(.5,.6,2,32),bottleMaterial),cap=(scene.add(bottleBody),new THREE.Mesh(new THREE.SphereGeometry(.4,32,32),new THREE.MeshStandardMaterial({color:2238513})));function animate(){requestAnimationFrame(animate),bottleBody.rotation.y+=.01,cap.rotation.y+=.01,renderer.render(scene,camera)}cap.position.y=1.2,scene.add(cap),animate(),window.addEventListener("resize",()=>{renderer.setSize(container.clientWidth,container.clientHeight),camera.aspect=container.clientWidth/container.clientHeight,camera.updateProjectionMatrix()});